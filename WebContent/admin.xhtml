<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">   
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui">   
	<h:head>  
 		<title>admin</title>   
	</h:head>   
 
    <h:body>
    	<f:event listener="#{userLogin.handleEvent}" type="preRenderView" />
    	<f:event listener="#{admin.checkIsAdmin}" type="preRenderView" />
    	<h:form>
	    	<p:stack expanded="true">
	    		<p:menuitem value="logout" actionListener="#{userLogin.logout}"/>
			    <p:menuitem value="admin" url="admin.xhtml" rendered="#{profile.isAdmin}"/>
			    <p:menuitem value="adding" onclick="PF('contractDlg').show();"/>
			    <p:menuitem value="profile" url="profile.xhtml"/>
			    <p:menuitem value="Home" url="index.xhtml"/>
			</p:stack>
		</h:form>
    	<h:form id="leaseperiod"> 
    		short: <h:inputText required="true" value="#{admin.shortTerm}" /> <br />
    		medium: <h:inputText required="true" value="#{admin.medium}" /> <br />
    		average: <h:inputText required="true" value="#{admin.average}" /> <br />
    		<h:commandButton value="save" action="#{admin.updateTerm}"/>  
    	</h:form>
    	<h:form style="width:1000px">
		    <p:dataTable id="userList" var="list" value="#{admin.users}" widgetVar="userTable" multiViewState="true"
		                 rows="10" paginator="true"
		                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
		                 rowsPerPageTemplate="5,10,15"
		                 selectionMode="single" rowKey="#{list.id}"
		                 filteredValue="">
		 		<f:facet name="header">
        			User Profile
    			</f:facet>
		        <p:column headerText="Id">
		            <h:outputText value="#{list.id}" />
		        </p:column>
		 
		        <p:column headerText="email">
		            <h:outputText value="#{list.email}" />
		        </p:column>
		 
		        <p:column headerText="address">
		            <h:outputText value="#{list.address}" />
		        </p:column>
		        
		        <p:column headerText="credential">
		           <!-- <p:link outcome="upload_cred/#{list.credential}" value="66"  ></p:link> -->
		        </p:column>
		 
		    </p:dataTable>
		</h:form>
    	<h:form id="contract">
    		cons:
	        <h:dataTable id="con" value="#{admin.con}" var="list">
	            <h:column>
	            	startdate: #{list.startDate} <br />
	            	detail: #{list.detail} <br />
	            	cus_detail: #{list.customer_detail} <br />
	            	final_price: #{list.finalprice} <br />
	            	<a href="product.xhtml?id=#{list.productid}"> prodcut link </a>	
				</h:column>
	        </h:dataTable>
    	</h:form>
    </h:body>
</html>
